(()=>{var e={};e.id=3192,e.ids=[3192],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},80878:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>o}),s(45456),s(14313),s(90996);var t=s(30170),a=s(45002),n=s(83876),i=s.n(n),c=s(66299),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);s.d(r,l);let o=["",{children:["payment",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,45456)),"/Users/mac/Downloads/VentureHiveIntelligence/src/app/payment/checkout/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,14313)),"/Users/mac/Downloads/VentureHiveIntelligence/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/mac/Downloads/VentureHiveIntelligence/src/app/payment/checkout/page.tsx"],d="/payment/checkout/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/payment/checkout/page",pathname:"/payment/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},69299:(e,r,s)=>{Promise.resolve().then(s.bind(s,6099))},26323:(e,r,s)=>{"use strict";s.d(r,{Z:()=>d});var t=s(28964);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),i=e=>{let r=n(e);return r.charAt(0).toUpperCase()+r.slice(1)},c=(...e)=>e.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim(),l=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:u,...d},m)=>(0,t.createElement)("svg",{ref:m,...o,width:r,height:r,stroke:e,strokeWidth:a?24*Number(s)/Number(r):s,className:c("lucide",n),...!i&&!l(d)&&{"aria-hidden":"true"},...d},[...u.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(i)?i:[i]])),d=(e,r)=>{let s=(0,t.forwardRef)(({className:s,...n},l)=>(0,t.createElement)(u,{ref:l,iconNode:r,className:c(`lucide-${a(i(e))}`,`lucide-${e}`,s),...n}));return s.displayName=i(e),s}},77940:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(26323).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},20290:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(26323).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},88514:e=>{function r(e,r,s,t){return Math.round(e/s)+" "+t+(r>=1.5*s?"s":"")}e.exports=function(e,s){s=s||{};var t,a,n=typeof e;if("string"===n&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(r){var s=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return 864e5*s;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*s;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*s;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===n&&isFinite(e))return s.long?(t=Math.abs(e))>=864e5?r(e,t,864e5,"day"):t>=36e5?r(e,t,36e5,"hour"):t>=6e4?r(e,t,6e4,"minute"):t>=1e3?r(e,t,1e3,"second"):e+" ms":(a=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":a>=36e5?Math.round(e/36e5)+"h":a>=6e4?Math.round(e/6e4)+"m":a>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},6099:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>h});var t=s(97247),a=s(28964),n=s(34178),i=s(27897),c=s(85255);let l=(0,s(26323).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var o=s(20290),u=s(8749);function d({amount:e,planName:r,description:s,isSubscription:d=!1,onSuccess:m,onError:p}){(0,n.useRouter)();let[x,h]=(0,a.useState)(""),[y,g]=(0,a.useState)(null),[f,b]=(0,a.useState)(null),{isAuthenticated:v,role:j}=(0,c.j)(),w=(0,i.u)("post","/api/payment/initialize",{onSuccess:e=>{window.location.href=e.authorizationUrl,localStorage.setItem("paymentReference",e.reference),m&&m(e.reference)},onError:e=>{g("Payment initialization failed. Please try again."),console.error("Payment error:",e),p&&p(e)}}),N=async t=>{if(t.preventDefault(),g(null),!x||!/^\S+@\S+\.\S+$/.test(x)){g("Please enter a valid email address");return}w.mutate({email:x,amount:e,metadata:{planName:r,description:s,isSubscription:d,userRole:j}})};return(0,t.jsxs)("div",{className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-2xl font-bold mb-6",children:r}),t.jsx("p",{className:"mb-4 text-gray-600",children:s}),(0,t.jsxs)("div",{className:"text-3xl font-bold mb-6",children:["₦",e.toLocaleString()]}),f?(0,t.jsxs)("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded flex items-center",children:[t.jsx(l,{className:"mr-2 h-5 w-5"}),f]}):y?(0,t.jsxs)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded flex items-center",children:[t.jsx(o.Z,{className:"mr-2 h-5 w-5"}),y]}):null,(0,t.jsxs)("form",{onSubmit:N,children:[(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",id:"email",value:x,onChange:e=>h(e.target.value),className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com",required:!0})]}),t.jsx("button",{type:"submit",disabled:w.isPending,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-200 flex justify-center items-center",children:w.isPending?(0,t.jsxs)(t.Fragment,{children:[t.jsx(u.Z,{className:"animate-spin mr-2 h-4 w-4"}),"Processing..."]}):`Pay ₦${e.toLocaleString()}`})]}),t.jsx("div",{className:"mt-4 text-xs text-gray-500 text-center",children:"Secured by Paystack. Your payment information is secure."})]})}var m=s(77940),p=s(79906);function x(){(0,n.useSearchParams)();let[e,r]=(0,a.useState)(null);return e?(0,t.jsxs)("div",{className:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[t.jsx("div",{className:"mb-8",children:(0,t.jsxs)(p.default,{href:"/pricing",className:"text-blue-600 hover:text-blue-800 flex items-center",children:[t.jsx(m.Z,{className:"h-4 w-4 mr-1"}),"Back to pricing"]})}),(0,t.jsxs)("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:"Complete your purchase"}),t.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"You're just one step away from accessing VentureHive Pro."})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"font-medium",children:e.name}),(0,t.jsxs)("span",{children:["₦",e.price.toLocaleString()]})]}),t.jsx("div",{className:"text-sm text-gray-600 mb-4",children:e.isSubscription?"Monthly subscription":"One-time payment"}),t.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:(0,t.jsxs)("div",{className:"flex justify-between font-bold",children:[t.jsx("span",{children:"Total"}),(0,t.jsxs)("span",{children:["₦",e.price.toLocaleString()]})]})})]})]}),t.jsx("div",{children:t.jsx(d,{amount:e.price,planName:e.name,description:e.description,isSubscription:e.isSubscription})})]})]}):t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-600 border-t-transparent rounded-full"})})}function h(){return t.jsx(a.Suspense,{fallback:t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-600 border-t-transparent rounded-full"})}),children:t.jsx(x,{})})}},27897:(e,r,s)=>{"use strict";s.d(r,{u:()=>l,W:()=>c});var t=s(30490),a=s(41755),n=s(88111);let i=s(10863).Z.create({baseURL:"/api",headers:{"Content-Type":"application/json"},withCredentials:!0});function c(e,r,s,a){return(0,t.a)({queryKey:r,queryFn:async()=>(await i.get(e,s)).data,enabled:a?.enabled,refetchInterval:a?.refetchInterval,onSuccess:a?.onSuccess,onError:a?.onError})}function l(e,r,s){let t=(0,a.NL)();return(0,n.D)({mutationFn:async s=>(await i[e](r,s)).data,onSuccess:e=>{s?.invalidateQueries&&s.invalidateQueries.forEach(e=>{t.invalidateQueries({queryKey:e})}),s?.onSuccess&&s.onSuccess(e)},onError:s?.onError})}i.interceptors.request.use(e=>e,e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(window.location.href="/auth"),Promise.reject(e)))},45456:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(45347).createProxy)(String.raw`/Users/mac/Downloads/VentureHiveIntelligence/src/app/payment/checkout/page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[7787,168,7893,7704],()=>s(80878));module.exports=t})();