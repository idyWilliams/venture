(()=>{var e={};e.id=8236,e.ids=[8236],e.modules={40682:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=40682,e.exports=t},54380:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=54380,e.exports=t},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},86624:e=>{"use strict";e.exports=require("querystring")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},44885:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>v,requestAsyncStorage:()=>x,routeModule:()=>d,serverHooks:()=>y,staticGenerationAsyncStorage:()=>m});var i={};r.r(i),r.d(i,{POST:()=>l});var s=r(73278),a=r(45002),o=r(54877),n=r(71309),u=r(14526),c=r(84770),p=r.n(c);async function l(e){try{let{email:t,amount:r,metadata:i}=await e.json();if(!t||!r)return n.NextResponse.json({error:"Email and amount are required"},{status:400});let s=`tx-${p().randomBytes(8).toString("hex")}`,a=await (0,u.Zc)(t,100*r,s,i);return n.NextResponse.json({authorizationUrl:a.data.authorization_url,reference:a.data.reference,accessCode:a.data.access_code})}catch(e){return console.error("Payment initialization error:",e),n.NextResponse.json({error:"Failed to initialize payment"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/payment/initialize/route",pathname:"/api/payment/initialize",filename:"route",bundlePath:"app/api/payment/initialize/route"},resolvedPagePath:"/Users/mac/Downloads/VentureHiveIntelligence/src/app/api/payment/initialize/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:x,staticGenerationAsyncStorage:m,serverHooks:y}=d,h="/api/payment/initialize/route";function v(){return(0,o.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:m})}},14526:(e,t,r)=>{"use strict";r.d(t,{Zc:()=>a,oi:()=>o});var i=r(4520);let s=new(r.n(i)())(process.env.PAYSTACK_SECRET_KEY);async function a(e,t,r,i){try{return await s.transaction.initialize({email:e,amount:t,reference:r,metadata:i?JSON.stringify(i):void 0,callback_url:`${process.env.NEXT_PUBLIC_BASE_URL||"http://localhost:5000"}/payment/callback`})}catch(e){throw console.error("Paystack transaction initialization error:",e),e}}async function o(e){try{return await s.transaction.verify({reference:e})}catch(e){throw console.error("Paystack transaction verification error:",e),e}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[7787,4833,4520],()=>r(44885));module.exports=i})();