(()=>{var e={};e.id=9152,e.ids=[9152],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6898:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(60687),a=s(43210),i=s(85814),n=s.n(i),l=s(16189),o=s(14508),d=s(29523),c=s(85763),u=s(99270);let m=(0,s(62688).A)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var x=s(41862),p=s(93613),h=s(58887),v=s(96474),g=s(72542),f=s(9086),j=s(25748);function b(e){try{return(0,g.GP)(new Date(e),"MMM d, yyyy")}catch(t){return e}}function y(){(0,l.useRouter)();let{role:e,isAuthenticated:t}=(0,j.h)(),[s,i]=(0,a.useState)("active"),[g,y]=(0,a.useState)("lastActivity"),[N,w]=(0,a.useState)("desc"),A="founder"===e?"founder-1":"investor-1",{data:q,isLoading:P,error:k,refetch:_}=(0,o.S)(`/api/deal-rooms?userId=${A}&role=${e}&filter=${s}`,["deal-rooms",A,e,s],void 0,{enabled:!!A&&!!e,refetchInterval:3e4}),C=e=>{g===e?w("desc"===N?"asc":"desc"):(y(e),w("desc"))},D=q?[...q].sort((e,t)=>{let s=new Date(e[g]).getTime(),r=new Date(t[g]).getTime();return"desc"===N?r-s:s-r}):[];return(0,r.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Deal Rooms"}),(0,r.jsx)(f.A,{})]}),(0,r.jsxs)(c.tU,{defaultValue:"active",value:s,onValueChange:e=>{i(e)},className:"w-full",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)(c.j7,{children:[(0,r.jsx)(c.Xi,{value:"active",children:"Active"}),(0,r.jsx)(c.Xi,{value:"archived",children:"Archived"}),(0,r.jsx)(c.Xi,{value:"all",children:"All"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),(0,r.jsx)("input",{type:"text",placeholder:"Search deal rooms...",className:"h-10 w-full rounded-md border pl-9 pr-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)(d.$,{variant:"outline",size:"sm",title:"Sort by last activity",children:[(0,r.jsx)(m,{className:"h-4 w-4 mr-1",onClick:()=>C("lastActivity")}),"Activity"]})]})]}),(0,r.jsx)(c.av,{value:"active",className:"mt-0",children:I(!1)}),(0,r.jsx)(c.av,{value:"archived",className:"mt-0",children:I(!0)}),(0,r.jsx)(c.av,{value:"all",className:"mt-0",children:I(null)})]})]});function I(t){if(P)return(0,r.jsxs)("div",{className:"flex justify-center items-center py-16",children:[(0,r.jsx)(x.A,{className:"animate-spin h-8 w-8 text-blue-500"}),(0,r.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading deal rooms..."})]});if(k)return(0,r.jsx)("div",{className:"flex justify-center items-center py-16 text-center",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(p.A,{className:"h-12 w-12 text-red-500 mx-auto mb-3"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Error loading deal rooms"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"There was a problem fetching your deal rooms. Please try again."}),(0,r.jsx)(d.$,{onClick:()=>_(),children:"Try Again"})]})});let s=null!==t?D.filter(e=>e.isArchived===t):D;return s&&0!==s.length?(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4",children:s.map(t=>{let s=function(e){switch(e){case"pending":return{color:"bg-yellow-100 text-yellow-800",text:"Pending"};case"active":return{color:"bg-blue-100 text-blue-800",text:"Active"};case"negotiation":return{color:"bg-purple-100 text-purple-800",text:"In Negotiation"};case"due_diligence":return{color:"bg-indigo-100 text-indigo-800",text:"Due Diligence"};case"signed":return{color:"bg-green-100 text-green-800",text:"Signed"};case"closed":return{color:"bg-green-100 text-green-800",text:"Closed"};case"rejected":return{color:"bg-red-100 text-red-800",text:"Rejected"};default:return{color:"bg-gray-100 text-gray-800",text:e}}}(t.status),a="founder"===e?t.investorName:t.founderName;return(0,r.jsx)(n(),{href:`/deal-rooms/${t.id}`,className:"block",children:(0,r.jsxs)("div",{className:"border rounded-lg p-5 hover:shadow-md transition-shadow duration-200",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.projectName}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["With ",a," (","founder"===e?"Investor":"Founder",")"]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.color}`,children:s.text})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Created"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:b(t.createdAt)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Last Activity"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:b(t.lastActivity)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Messages"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:t.messages.length})]})]}),t.terms.investmentAmount&&(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Investment Amount"}),(0,r.jsxs)("p",{className:"text-sm font-medium",children:["â‚¦",t.terms.investmentAmount.toLocaleString()]})]})]})},t.id)})}):(0,r.jsxs)("div",{className:"text-center py-16 border rounded-lg bg-gray-50",children:[(0,r.jsx)(h.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No deal rooms found"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:t?"You don't have any archived deal rooms.":"Start a conversation with an investor to create a deal room."}),(0,r.jsxs)(d.$,{children:[(0,r.jsx)(v.A,{className:"h-4 w-4 mr-2"}),t?"View Active Deal Rooms":"Create New Deal Room"]})]})}}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34798:(e,t,s)=>{Promise.resolve().then(s.bind(s,52044))},52044:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/mac/Downloads/VentureHiveIntelligence/src/app/deal-rooms/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mac/Downloads/VentureHiveIntelligence/src/app/deal-rooms/page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},74550:(e,t,s)=>{Promise.resolve().then(s.bind(s,6898))},77793:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(65239),a=s(48088),i=s(88170),n=s.n(i),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d={children:["",{children:["deal-rooms",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,52044)),"/Users/mac/Downloads/VentureHiveIntelligence/src/app/deal-rooms/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Users/mac/Downloads/VentureHiveIntelligence/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/mac/Downloads/VentureHiveIntelligence/src/app/deal-rooms/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/deal-rooms/page",pathname:"/deal-rooms",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},85763:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>d,av:()=>c,j7:()=>o,tU:()=>l});var r=s(60687),a=s(43210),i=s(55146),n=s(96241);let l=i.bL,o=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(i.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));o.displayName=i.B8.displayName;let d=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(i.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));d.displayName=i.l9.displayName;let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(i.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c.displayName=i.UC.displayName},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4447,6509,5560,7950,5026,4468,6921,1933],()=>s(77793));module.exports=r})();