(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3192],{32405:function(e,t,r){Promise.resolve().then(r.bind(r,92484))},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),a=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:u="",children:d,iconNode:m,...f}=e;return(0,n.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:a?24*Number(i)/Number(s):i,className:o("lucide",u),...!d&&!c(f)&&{"aria-hidden":"true"},...f},[...m.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,n.forwardRef)((r,i)=>{let{className:c,...l}=r;return(0,n.createElement)(u,{ref:i,iconNode:t,className:o("lucide-".concat(s(a(e))),"lucide-".concat(e),c),...l})});return r.displayName=a(e),r}},32660:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},49322:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},40257:function(e,t,r){"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(44227)},44227:function(e){!function(){var t={229:function(e){var t,r,n,s=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c=[],l=!1,u=-1;function d(){l&&n&&(l=!1,n.length?c=n.concat(c):u=-1,c.length&&m())}function m(){if(!l){var e=o(d);l=!0;for(var t=c.length;t;){for(n=c,c=[];++u<t;)n&&n[u].run();u=-1,t=c.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||l||o(m)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=h,s.addListener=h,s.once=h,s.off=h,s.removeListener=h,s.removeAllListeners=h,s.emit=h,s.prependListener=h,s.prependOnceListener=h,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,n),a=!1}finally{a&&delete r[e]}return i.exports}n.ab="//";var s=n(229);e.exports=s}()},92484:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(57437),s=r(2265),i=r(99376),a=r(62285),o=r(21147);let c=(0,r(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var l=r(49322),u=r(51817);function d(e){let{amount:t,planName:r,description:d,isSubscription:m=!1,onSuccess:f,onError:h}=e,p=(0,i.useRouter)(),[x,v]=(0,s.useState)(""),[y,g]=(0,s.useState)(null),[b,j]=(0,s.useState)(null),{isAuthenticated:w,role:N}=(0,o.j)(),P=(0,a.u)("post","/api/payment/initialize",{onSuccess:e=>{window.location.href=e.authorizationUrl,localStorage.setItem("paymentReference",e.reference),f&&f(e.reference)},onError:e=>{g("Payment initialization failed. Please try again."),console.error("Payment error:",e),h&&h(e)}}),S=async e=>{if(e.preventDefault(),g(null),!x||!/^\S+@\S+\.\S+$/.test(x)){g("Please enter a valid email address");return}P.mutate({email:x,amount:t,metadata:{planName:r,description:d,isSubscription:m,userRole:N}})};(0,s.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("reference");e&&k(e)},[]);let k=async e=>{try{let t=await fetch("/api/payment/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reference:e})});(await t.json()).success?(j("Payment successful! Thank you for your purchase."),localStorage.removeItem("paymentReference"),setTimeout(()=>{p.push("/dashboard")},3e3)):g("Payment verification failed. Please contact support.")}catch(e){console.error("Verification error:",e),g("Payment verification failed. Please contact support.")}};return(0,n.jsxs)("div",{className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-6",children:r}),(0,n.jsx)("p",{className:"mb-4 text-gray-600",children:d}),(0,n.jsxs)("div",{className:"text-3xl font-bold mb-6",children:["₦",t.toLocaleString()]}),b?(0,n.jsxs)("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded flex items-center",children:[(0,n.jsx)(c,{className:"mr-2 h-5 w-5"}),b]}):y?(0,n.jsxs)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded flex items-center",children:[(0,n.jsx)(l.Z,{className:"mr-2 h-5 w-5"}),y]}):null,(0,n.jsxs)("form",{onSubmit:S,children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,n.jsx)("input",{type:"email",id:"email",value:x,onChange:e=>v(e.target.value),className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com",required:!0})]}),(0,n.jsx)("button",{type:"submit",disabled:P.isPending,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-200 flex justify-center items-center",children:P.isPending?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{className:"animate-spin mr-2 h-4 w-4"}),"Processing..."]}):"Pay ₦".concat(t.toLocaleString())})]}),(0,n.jsx)("div",{className:"mt-4 text-xs text-gray-500 text-center",children:"Secured by Paystack. Your payment information is secure."})]})}var m=r(32660),f=r(27648);function h(){let e=(0,i.useSearchParams)(),[t,r]=(0,s.useState)(null);return((0,s.useEffect)(()=>{let t=e.get("plan"),n="true"===e.get("subscription"),s=parseFloat(e.get("price")||"0");"founder"===t?r({name:"Founder Plan",description:"Perfect for startup founders looking to connect with investors",price:s||29,isSubscription:n}):"founder-pro"===t?r({name:"Founder Pro Plan",description:"For founders serious about fundraising and growth",price:s||69,isSubscription:n}):"investor"===t?r({name:"Investor Plan",description:"For angel investors and venture capitalists",price:s||149,isSubscription:n}):r({name:"Basic Plan",description:"Standard access to VentureHive Pro platform",price:s||29,isSubscription:n})},[e]),t)?(0,n.jsxs)("div",{className:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsxs)(f.default,{href:"/pricing",className:"text-blue-600 hover:text-blue-800 flex items-center",children:[(0,n.jsx)(m.Z,{className:"h-4 w-4 mr-1"}),"Back to pricing"]})}),(0,n.jsxs)("div",{className:"text-center mb-12",children:[(0,n.jsx)("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:"Complete your purchase"}),(0,n.jsx)("p",{className:"mt-2 text-lg text-gray-600",children:"You're just one step away from accessing VentureHive Pro."})]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,n.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),(0,n.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,n.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,n.jsx)("span",{className:"font-medium",children:t.name}),(0,n.jsxs)("span",{children:["₦",t.price.toLocaleString()]})]}),(0,n.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:t.isSubscription?"Monthly subscription":"One-time payment"}),(0,n.jsx)("div",{className:"border-t border-gray-200 pt-4 mt-4",children:(0,n.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,n.jsx)("span",{children:"Total"}),(0,n.jsxs)("span",{children:["₦",t.price.toLocaleString()]})]})})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(d,{amount:t.price,planName:t.name,description:t.description,isSubscription:t.isSubscription})})]})]}):(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-blue-600 border-t-transparent rounded-full"})})}},21147:function(e,t,r){"use strict";r.d(t,{UserRoleProvider:function(){return a},j:function(){return o}});var n=r(57437),s=r(2265);let i=(0,s.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,s.useState)("founder"),[o,c]=(0,s.useState)(!1);return(0,n.jsx)(i.Provider,{value:{role:r,setRole:a,isAuthenticated:o,setIsAuthenticated:c},children:t})}function o(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useUserRole must be used within a UserRoleProvider");return e}},62285:function(e,t,r){"use strict";r.d(t,{u:function(){return c},W:function(){return o}});var n=r(11713),s=r(29827),i=r(21770);let a=r(83464).Z.create({baseURL:"/api",headers:{"Content-Type":"application/json"},withCredentials:!0});function o(e,t,r,s){return(0,n.a)({queryKey:t,queryFn:async()=>(await a.get(e,r)).data,enabled:null==s?void 0:s.enabled,refetchInterval:null==s?void 0:s.refetchInterval,onSuccess:null==s?void 0:s.onSuccess,onError:null==s?void 0:s.onError})}function c(e,t,r){let n=(0,s.NL)();return(0,i.D)({mutationFn:async r=>(await a[e](t,r)).data,onSuccess:e=>{(null==r?void 0:r.invalidateQueries)&&r.invalidateQueries.forEach(e=>{n.invalidateQueries({queryKey:e})}),(null==r?void 0:r.onSuccess)&&r.onSuccess(e)},onError:null==r?void 0:r.onError})}a.interceptors.request.use(e=>e,e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(window.location.href="/auth"),Promise.reject(e)))}},function(e){e.O(0,[7648,7954,6434,6890,2971,2117,1744],function(){return e(e.s=32405)}),_N_E=e.O()}]);