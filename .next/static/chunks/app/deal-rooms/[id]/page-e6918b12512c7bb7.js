(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8610],{18561:function(e,t,s){Promise.resolve().then(s.bind(s,61506))},62869:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var r=s(57437),n=s(2265),a=s(37053),i=s(90535),l=s(94508);let d=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:s,variant:n,size:i,asChild:c=!1,...o}=e,u=c?a.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(d({variant:n,size:i,className:s})),ref:t,...o})});c.displayName="Button"},66070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return o},eW:function(){return u},ll:function(){return d}});var r=s(57437),n=s(2265),a=s(94508);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...n})});l.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",s),...n})});d.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...n})});c.displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...n})});o.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...n})});u.displayName="CardFooter"},94508:function(e,t,s){"use strict";s.d(t,{cn:function(){return a},p:function(){return i},u:function(){return l}});var r=s(61994),n=s(53335);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}let i=e=>{let t=new Date,s=new Date(e),r=Math.abs(t.getTime()-s.getTime()),n=Math.floor(r/864e5);if(0===n){let e=Math.floor(r/36e5);if(0===e){let e=Math.floor(r/6e4);return"".concat(e," minute").concat(1!==e?"s":""," ago")}return"".concat(e," hour").concat(1!==e?"s":""," ago")}return n<7?"".concat(n," day").concat(1!==n?"s":""," ago"):s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};function l(e){return e>=1e9?(e/1e9).toFixed(1)+"B":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}},61506:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return L}});var r=s(57437),n=s(2265),a=s(99376),i=s(21147),l=s(62285),d=s(27648),c=s(17168),o=s(62869),u=s(76980),m=s(44743),x=s(87735);function h(e){let{messages:t,dealRoomId:s,currentUserId:a,currentUserRole:i}=e,[d,c]=(0,n.useState)(""),h=(0,n.useRef)(null);(0,n.useEffect)(()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[t]);let f=(0,l.u)("post","/api/deal-rooms/".concat(s,"/messages"),{invalidateQueries:[["/api/deal-rooms/".concat(s)]],onSuccess:()=>{c("")}}),p=e=>{try{return(0,x.WU)(new Date(e),"MMM d, yyyy h:mm a")}catch(t){return e}};return(0,r.jsxs)("div",{className:"flex flex-col h-[600px] border rounded-lg",children:[(0,r.jsx)("div",{className:"flex-grow overflow-y-auto p-4",children:(0,r.jsxs)("div",{className:"space-y-4",children:[t.map(e=>(0,r.jsx)("div",{className:"flex ".concat(e.isSystemMessage?"justify-center":e.senderId===a?"justify-end":"justify-start"),children:e.isSystemMessage?(0,r.jsxs)("div",{className:"bg-gray-100 text-gray-600 rounded-md py-2 px-4 text-sm max-w-[80%]",children:[(0,r.jsx)("div",{children:e.content}),(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:p(e.timestamp)})]}):e.senderId===a?(0,r.jsxs)("div",{className:"bg-blue-600 text-white rounded-lg py-2 px-4 max-w-[80%]",children:[(0,r.jsx)("div",{children:e.content}),(0,r.jsx)("div",{className:"text-xs text-blue-200 mt-1 text-right",children:p(e.timestamp)})]}):(0,r.jsxs)("div",{className:"bg-gray-200 text-gray-800 rounded-lg py-2 px-4 max-w-[80%]",children:[(0,r.jsxs)("div",{className:"font-medium text-sm text-gray-600 mb-1",children:[e.senderName," (",e.senderRole,")"]}),(0,r.jsx)("div",{children:e.content}),(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:p(e.timestamp)})]})},e.id)),(0,r.jsx)("div",{ref:h})]})}),(0,r.jsx)("div",{className:"border-t p-3",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d.trim()&&f.mutate({dealRoomId:s,content:d})},className:"flex space-x-2",children:[(0,r.jsx)(o.z,{type:"button",variant:"outline",size:"icon",className:"shrink-0",title:"Attach file (coming soon)",disabled:!0,children:(0,r.jsx)(u.Z,{className:"h-4 w-4"})}),(0,r.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),className:"flex-grow px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type your message..."}),(0,r.jsxs)(o.z,{type:"submit",disabled:!d.trim()||f.isPending,className:"shrink-0",children:[(0,r.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Send"]})]})})]})}var f=s(66070),p=s(75060),v=s(40279),g=s(23675),j=s(86700),y=s(15291),N=s(51817),b=s(2207);function w(e){var t,s,a,i,d,c,u,m,x;let{terms:h,dealRoomId:w,projectName:C,currentUserId:F,currentUserRole:_,status:R,onUpdateStatus:D}=e,[k,S]=(0,n.useState)(!1),[T,I]=(0,n.useState)(h||{});(0,n.useEffect)(()=>{h&&I(h)},[h]);let Z=(0,l.u)("put","/api/deal-rooms/".concat(w,"/terms"),{invalidateQueries:[["/api/deal-rooms/".concat(w)]],onSuccess:()=>{S(!1)}}),U=e=>null==e?"":new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",maximumFractionDigits:0}).format(e),M=e=>null==e?"":"".concat(e,"%"),P=(e,t)=>{let s=""===t?void 0:parseFloat(t);I(t=>({...t,[e]:s}))},z=!h||0===Object.keys(h).filter(e=>"dealType"!==e).length;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Deal Terms"}),(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsxs)(o.z,{variant:"outline",size:"sm",disabled:k,onClick:()=>S(!0),children:[(0,r.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),z?"Propose Terms":"Edit Terms"]})})]}),(0,r.jsxs)(f.Zb,{children:[(0,r.jsx)(f.Ol,{children:(0,r.jsx)(f.ll,{children:T.dealType?(0,r.jsxs)(r.Fragment,{children:["equity"===T.dealType&&"Equity Investment","convertible_note"===T.dealType&&"Convertible Note","safe"===T.dealType&&"Simple Agreement for Future Equity (SAFE)","revenue_share"===T.dealType&&"Revenue Share Agreement","grant"===T.dealType&&"Grant Funding","other"===T.dealType&&"Custom Deal Structure"]}):"Investment Terms"})}),(0,r.jsx)(f.aY,{children:k?(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Z.mutate({dealRoomId:w,terms:T})},className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(p._,{htmlFor:"dealType",children:"Deal Type"}),(0,r.jsxs)(y.Ph,{value:T.dealType||"equity",onValueChange:e=>I(t=>({...t,dealType:e})),children:[(0,r.jsx)(y.i4,{children:(0,r.jsx)(y.ki,{placeholder:"Select deal type"})}),(0,r.jsxs)(y.Bw,{children:[(0,r.jsx)(y.Ql,{value:"equity",children:"Equity"}),(0,r.jsx)(y.Ql,{value:"convertible_note",children:"Convertible Note"}),(0,r.jsx)(y.Ql,{value:"safe",children:"SAFE"}),(0,r.jsx)(y.Ql,{value:"revenue_share",children:"Revenue Share"}),(0,r.jsx)(y.Ql,{value:"grant",children:"Grant"}),(0,r.jsx)(y.Ql,{value:"other",children:"Other"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(p._,{htmlFor:"investmentAmount",children:"Investment Amount (₦)"}),(0,r.jsx)(v.I,{id:"investmentAmount",type:"number",value:null!==(t=T.investmentAmount)&&void 0!==t?t:"",onChange:e=>P("investmentAmount",e.target.value)})]}),("equity"===T.dealType||!T.dealType)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(p._,{htmlFor:"equity",children:"Equity Percentage (%)"}),(0,r.jsx)(v.I,{id:"equity",type:"number",step:"0.01",value:null!==(s=T.equity)&&void 0!==s?s:"",onChange:e=>P("equity",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(p._,{htmlFor:"valuation",children:"Company Valuation (₦)"}),(0,r.jsx)(v.I,{id:"valuation",type:"number",value:null!==(a=T.valuation)&&void 0!==a?a:"",onChange:e=>P("valuation",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(p._,{htmlFor:"minimumInvestment",children:"Minimum Investment (₦)"}),(0,r.jsx)(v.I,{id:"minimumInvestment",type:"number",value:null!==(i=T.minimumInvestment)&&void 0!==i?i:"",onChange:e=>P("minimumInvestment",e.target.value)})]})]}),("convertible_note"===T.dealType||"safe"===T.dealType)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(p._,{htmlFor:"valuationCap",children:"Valuation Cap (₦)"}),(0,r.jsx)(v.I,{id:"valuationCap",type:"number",value:null!==(d=T.valuationCap)&&void 0!==d?d:"",onChange:e=>P("valuationCap",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(p._,{htmlFor:"conversionDiscount",children:"Conversion Discount (%)"}),(0,r.jsx)(v.I,{id:"conversionDiscount",type:"number",step:"0.01",value:null!==(c=T.conversionDiscount)&&void 0!==c?c:"",onChange:e=>P("conversionDiscount",e.target.value)})]}),"convertible_note"===T.dealType&&(0,r.jsxs)("div",{children:[(0,r.jsx)(p._,{htmlFor:"interestRate",children:"Interest Rate (%)"}),(0,r.jsx)(v.I,{id:"interestRate",type:"number",step:"0.01",value:null!==(u=T.interestRate)&&void 0!==u?u:"",onChange:e=>P("interestRate",e.target.value)})]})]}),"revenue_share"===T.dealType&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(p._,{htmlFor:"revenuePercentage",children:"Revenue Percentage (%)"}),(0,r.jsx)(v.I,{id:"revenuePercentage",type:"number",step:"0.01",value:null!==(m=T.revenuePercentage)&&void 0!==m?m:"",onChange:e=>P("revenuePercentage",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(p._,{htmlFor:"returnCap",children:"Return Cap (multiplier)"}),(0,r.jsx)(v.I,{id:"returnCap",type:"number",step:"0.1",value:null!==(x=T.returnCap)&&void 0!==x?x:"",onChange:e=>P("returnCap",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(p._,{htmlFor:"paymentFrequency",children:"Payment Frequency"}),(0,r.jsxs)(y.Ph,{value:T.paymentFrequency||"monthly",onValueChange:e=>I(t=>({...t,paymentFrequency:e})),children:[(0,r.jsx)(y.i4,{children:(0,r.jsx)(y.ki,{placeholder:"Select frequency"})}),(0,r.jsxs)(y.Bw,{children:[(0,r.jsx)(y.Ql,{value:"monthly",children:"Monthly"}),(0,r.jsx)(y.Ql,{value:"quarterly",children:"Quarterly"}),(0,r.jsx)(y.Ql,{value:"annually",children:"Annually"})]})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(p._,{htmlFor:"additionalTerms",children:"Additional Terms or Notes"}),(0,r.jsx)(g.g,{id:"additionalTerms",value:T.additionalTerms||"",onChange:e=>I(t=>({...t,additionalTerms:e.target.value})),rows:4})]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(o.z,{type:"submit",disabled:Z.isPending,children:[Z.isPending&&(0,r.jsx)(N.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Terms"]}),(0,r.jsx)(o.z,{type:"button",variant:"outline",onClick:()=>{I(h||{}),S(!1)},children:"Cancel"})]})]}):(0,r.jsx)(r.Fragment,{children:z?(0,r.jsxs)("div",{className:"py-8 text-center",children:[(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"No deal terms have been proposed yet."}),(0,r.jsx)(o.z,{onClick:()=>S(!0),children:"Propose Terms"})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(()=>{let e=T.dealType||"equity";switch(e){case"equity":return(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1 text-gray-800",children:"Investment Amount"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:U(T.investmentAmount)||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1 text-gray-800",children:"Equity Offered"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:M(T.equity)||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1 text-gray-800",children:"Company Valuation"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:U(T.valuation)||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1 text-gray-800",children:"Minimum Investment"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:U(T.minimumInvestment)||"Not specified"})]})]});case"convertible_note":case"safe":return(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1 text-gray-800",children:"Investment Amount"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:U(T.investmentAmount)||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1 text-gray-800",children:"Valuation Cap"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:U(T.valuationCap)||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1 text-gray-800",children:"Conversion Discount"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:M(T.conversionDiscount)||"Not specified"})]}),"convertible_note"===e&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1 text-gray-800",children:"Interest Rate"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:M(T.interestRate)||"Not specified"})]})]});case"revenue_share":return(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1 text-gray-800",children:"Investment Amount"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:U(T.investmentAmount)||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1 text-gray-800",children:"Revenue Percentage"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:M(T.revenuePercentage)||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1 text-gray-800",children:"Return Cap"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:void 0!==T.returnCap?"".concat(T.returnCap,"x"):"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1 text-gray-800",children:"Payment Frequency"}),(0,r.jsx)("p",{className:"text-xl font-bold capitalize",children:T.paymentFrequency||"Not specified"})]})]});default:return(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-gray-600",children:"No specific terms have been defined yet."})})}})(),T.additionalTerms&&(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,r.jsx)("h3",{className:"font-medium mb-2 text-gray-800",children:"Additional Terms & Notes"}),(0,r.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:T.additionalTerms})]})]})})})]}),!k&&!z&&(0,r.jsxs)(f.Zb,{children:[(0,r.jsx)(f.Ol,{children:(0,r.jsx)(f.ll,{children:"Deal Status"})}),(0,r.jsx)(f.aY,{children:(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)(j.E,{value:R,onValueChange:e=>{e!==R&&D(e)},children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.m,{value:"pending",id:"pending"}),(0,r.jsx)(p._,{htmlFor:"pending",children:"Pending - Initial Discussion"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.m,{value:"negotiation",id:"negotiation"}),(0,r.jsx)(p._,{htmlFor:"negotiation",children:"In Negotiation - Actively Discussing Terms"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.m,{value:"due_diligence",id:"due_diligence"}),(0,r.jsx)(p._,{htmlFor:"due_diligence",children:"Due Diligence - Verifying Information"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.m,{value:"signed",id:"signed"}),(0,r.jsx)(p._,{htmlFor:"signed",children:"Terms Signed - Awaiting Closing"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.m,{value:"closed",id:"closed"}),(0,r.jsx)(p._,{htmlFor:"closed",children:"Deal Closed - Investment Complete"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.m,{value:"rejected",id:"rejected"}),(0,r.jsx)(p._,{htmlFor:"rejected",children:"Rejected - Not Moving Forward"})]})]})})})]})]})}var C=s(77139),F=s(80804),_=s(61649),R=s(71385),D=s(48736),k=s(69658),S=s(66337),T=s(92735),I=s(17689);function Z(e){let{documents:t,dealRoomId:s,currentUserId:a,currentUserRole:i}=e,[d,c]=(0,n.useState)(null),[u,m]=(0,n.useState)(!1),[h,p]=(0,n.useState)(""),v=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(2))," ").concat(["Bytes","KB","MB","GB"][t])},g=e=>{try{return(0,x.WU)(new Date(e),"MMM d, yyyy")}catch(t){return e}},j=e=>e.includes("pdf")?(0,r.jsx)(C.Z,{className:"h-8 w-8 text-red-500"}):e.includes("image")?(0,r.jsx)(F.Z,{className:"h-8 w-8 text-blue-500"}):e.includes("sheet")||e.includes("excel")||e.includes("csv")?(0,r.jsx)(_.Z,{className:"h-8 w-8 text-green-500"}):e.includes("zip")||e.includes("rar")?(0,r.jsx)(R.Z,{className:"h-8 w-8 text-purple-500"}):e.includes("text")||e.includes("doc")?(0,r.jsx)(D.Z,{className:"h-8 w-8 text-blue-700"}):(0,r.jsx)(k.Z,{className:"h-8 w-8 text-gray-500"}),y=(0,l.u)("post","/api/deal-rooms/".concat(s,"/documents"),{invalidateQueries:[["/api/deal-rooms/".concat(s)]],onSuccess:()=>{c(null),p(""),m(!1)}});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Shared Documents"}),0===t.length?(0,r.jsxs)("div",{className:"text-center py-8 border rounded-lg bg-gray-50",children:[(0,r.jsx)(D.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-gray-500",children:"No documents have been shared yet"}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Upload documents to share with the other party"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(e=>(0,r.jsx)(f.Zb,{className:"overflow-hidden",children:(0,r.jsxs)(f.aY,{className:"p-0",children:[(0,r.jsxs)("div",{className:"p-4 flex items-start space-x-4",children:[(0,r.jsx)("div",{className:"shrink-0",children:j(e.type)}),(0,r.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900 truncate",children:e.name}),e.isConfidential&&(0,r.jsx)(S.Z,{className:"h-4 w-4 ml-1 text-amber-500"})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1 truncate",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[(0,r.jsxs)("span",{children:["Uploaded ",g(e.uploadedAt)]}),(0,r.jsx)("span",{className:"mx-2",children:"•"}),(0,r.jsx)("span",{children:v(e.size)})]})]})]}),(0,r.jsx)("div",{className:"border-t bg-gray-50 px-4 py-2 flex justify-end",children:(0,r.jsx)(o.z,{variant:"outline",size:"sm",asChild:!0,children:(0,r.jsxs)("a",{href:e.url,download:e.name,target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)(T.Z,{className:"h-4 w-4 mr-1"}),"Download"]})})})]})},e.id))})]}),(0,r.jsxs)("div",{className:"mt-8 border-t pt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Upload New Document"}),(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!d)return;let t=new FormData;t.append("file",d),t.append("description",h),t.append("isConfidential",u.toString()),y.mutate(t)},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,r.jsx)("input",{type:"file",id:"file-upload",className:"hidden",onChange:e=>{let t=e.target.files;t&&t.length>0&&c(t[0])}}),d?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center",children:j(d.type)}),(0,r.jsx)("p",{className:"text-sm font-medium",children:d.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:v(d.size)}),(0,r.jsx)(o.z,{type:"button",variant:"outline",size:"sm",onClick:()=>c(null),children:"Change File"})]}):(0,r.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(I.Z,{className:"h-10 w-10 text-gray-400"})}),(0,r.jsx)("p",{className:"text-sm font-medium",children:"Click to upload a file"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"PDF, Word, Excel, Images, etc."})]})})]}),d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),(0,r.jsx)("input",{type:"text",id:"description",className:"w-full px-3 py-2 border rounded-md",value:h,onChange:e=>p(e.target.value),placeholder:"Brief description of the document"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"confidential",className:"h-4 w-4 text-blue-600 rounded border-gray-300",checked:u,onChange:e=>m(e.target.checked)}),(0,r.jsx)("label",{htmlFor:"confidential",className:"ml-2 text-sm text-gray-700",children:"Mark as confidential"})]}),(0,r.jsx)(o.z,{type:"submit",disabled:y.isPending,className:"w-full",children:y.isPending?(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"animate-spin mr-2 h-4 w-4 border-2 border-white border-opacity-50 border-t-transparent rounded-full"}),"Uploading..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.Z,{className:"h-4 w-4 mr-2"}),"Upload Document"]})})]})]})]})]})}var U=s(61796),M=s(53417),P=s(69076),z=s(49322),A=s(95805);function E(e){let{activities:t}=e,s=e=>{try{return(0,x.WU)(new Date(e),"MMM d, yyyy h:mm a")}catch(t){return e}},n=e=>{try{return(0,U.B)(new Date(e),new Date,{addSuffix:!0})}catch(e){return""}},a=e=>{switch(e){case"message":return(0,r.jsx)(M.Z,{className:"h-5 w-5 text-blue-500"});case"document":return(0,r.jsx)(D.Z,{className:"h-5 w-5 text-green-500"});case"term_update":return(0,r.jsx)(P.Z,{className:"h-5 w-5 text-purple-500"});case"status_change":return(0,r.jsx)(z.Z,{className:"h-5 w-5 text-orange-500"});case"user_joined":return(0,r.jsx)(A.Z,{className:"h-5 w-5 text-indigo-500"});default:return(0,r.jsx)(M.Z,{className:"h-5 w-5 text-gray-500"})}},i=e=>{let{type:t,userName:s,userRole:r,details:n}=e;switch(t){case"message":return"".concat(s," (").concat(r,") sent a message");case"document":if("uploaded"===n.action)return"".concat(s," (").concat(r,") uploaded document: ").concat(n.documentName);return"".concat(s," (").concat(r,") ").concat(n.action," document: ").concat(n.documentName);case"term_update":return"".concat(s," (").concat(r,") updated the deal terms");case"status_change":return"".concat(s," (").concat(r,') changed deal status from "').concat(n.previousStatus,'" to "').concat(n.newStatus,'"');case"user_joined":if(n.message)return n.message;return"".concat(s," joined the deal room");default:return"".concat(s," performed an action")}},l=(()=>{let e={};return t.forEach(t=>{try{let s=(0,x.WU)(new Date(t.timestamp),"yyyy-MM-dd");e[s]||(e[s]=[]),e[s].push(t)}catch(r){let s="Unknown Date";e[s]||(e[s]=[]),e[s].push(t)}}),Object.entries(e).sort((e,t)=>{let[s]=e,[r]=t;return"Unknown Date"===s?1:"Unknown Date"===r?-1:r.localeCompare(s)}).map(e=>{let[t,s]=e;return{date:t,activities:s.sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime())}})})(),d=e=>{if("Unknown Date"===e)return"Unknown Date";try{let t=(0,x.WU)(new Date,"yyyy-MM-dd"),s=(0,x.WU)(new Date(Date.now()-864e5),"yyyy-MM-dd");if(e===t)return"Today";if(e===s)return"Yesterday";return(0,x.WU)(new Date(e),"EEEE, MMMM d, yyyy")}catch(t){return e}};return 0===t.length?(0,r.jsxs)("div",{className:"text-center py-10",children:[(0,r.jsx)(A.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-gray-500",children:"No activity recorded yet"})]}):(0,r.jsx)("div",{className:"space-y-6",children:l.map(e=>{let{date:t,activities:l}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-4 sticky top-0 bg-white py-2",children:d(t)}),(0,r.jsx)("div",{className:"space-y-4",children:l.map(e=>(0,r.jsxs)("div",{className:"flex items-start space-x-3 border-l-2 border-gray-200 pl-4 pb-1",children:[(0,r.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:a(e.type)}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("p",{className:"text-gray-800",children:i(e)}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[(0,r.jsx)("span",{children:s(e.timestamp)}),(0,r.jsx)("span",{className:"mx-1",children:"•"}),(0,r.jsx)("span",{children:n(e.timestamp)})]})]})]},e.id))})]},t)})})}var q=s(32660),Q=s(9334),V=s(90535),B=s(94508);let W=(0,V.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function O(e){let{className:t,variant:s,...n}=e;return(0,r.jsx)("div",{className:(0,B.cn)(W({variant:s}),t),...n})}function Y(e){let{dealRoom:t,currentUserId:s,currentUserRole:a,onUpdateStatus:i,onArchive:l}=e,[u,m]=(0,n.useState)("messages"),x=function(e){switch(e){case"pending":return{color:"bg-yellow-100 text-yellow-800",text:"Pending"};case"active":return{color:"bg-blue-100 text-blue-800",text:"Active"};case"negotiation":return{color:"bg-purple-100 text-purple-800",text:"In Negotiation"};case"due_diligence":return{color:"bg-indigo-100 text-indigo-800",text:"Due Diligence"};case"signed":return{color:"bg-green-100 text-green-800",text:"Signed"};case"closed":return{color:"bg-green-100 text-green-800",text:"Closed"};case"rejected":return{color:"bg-red-100 text-red-800",text:"Rejected"};default:return{color:"bg-gray-100 text-gray-800",text:e}}}(t.status),f="founder"===a?t.investorName:t.founderName,p="founder"===a?"Investor":"Founder";return(0,r.jsxs)("div",{className:"container mx-auto py-6 max-w-6xl",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(d.default,{href:"/deal-rooms",className:"text-blue-600 hover:text-blue-800 flex items-center",children:[(0,r.jsx)(q.Z,{className:"h-4 w-4 mr-1"}),"Back to Deal Rooms"]}),(0,r.jsx)("h1",{className:"text-2xl font-bold mt-2",children:t.projectName}),(0,r.jsxs)("div",{className:"flex items-center mt-1",children:[(0,r.jsx)(O,{variant:"outline",className:"".concat(x.color," mr-2"),children:x.text}),(0,r.jsxs)("span",{className:"text-gray-600 text-sm",children:["With ",f," (",p,")"]})]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[!t.isArchived&&(0,r.jsxs)(o.z,{variant:"outline",size:"sm",onClick:l,children:[(0,r.jsx)(Q.Z,{className:"h-4 w-4 mr-2"}),"Archive"]}),t.isArchived&&(0,r.jsxs)(o.z,{variant:"outline",size:"sm",onClick:l,children:[(0,r.jsx)(P.Z,{className:"h-4 w-4 mr-2"}),"Unarchive"]}),(0,r.jsxs)(o.z,{variant:"secondary",size:"sm",children:[(0,r.jsx)(A.Z,{className:"h-4 w-4 mr-2"}),"Meeting"]})]})]}),(0,r.jsxs)(c.mQ,{defaultValue:"messages",value:u,onValueChange:m,className:"w-full",children:[(0,r.jsxs)(c.dr,{className:"grid grid-cols-4 mb-8",children:[(0,r.jsx)(c.SP,{value:"messages",children:"Messages"}),(0,r.jsx)(c.SP,{value:"terms",children:"Deal Terms"}),(0,r.jsx)(c.SP,{value:"documents",children:"Documents"}),(0,r.jsx)(c.SP,{value:"activity",children:"Activity"})]}),(0,r.jsx)(c.nU,{value:"messages",className:"mt-0",children:(0,r.jsx)(h,{messages:t.messages,dealRoomId:t.id,currentUserId:s,currentUserRole:a})}),(0,r.jsx)(c.nU,{value:"terms",className:"mt-0",children:(0,r.jsx)(w,{terms:t.terms,dealRoomId:t.id,projectName:t.projectName,currentUserId:s,currentUserRole:a,status:t.status,onUpdateStatus:i})}),(0,r.jsx)(c.nU,{value:"documents",className:"mt-0",children:(0,r.jsx)(Z,{documents:t.documents,dealRoomId:t.id,currentUserId:s,currentUserRole:a})}),(0,r.jsx)(c.nU,{value:"activity",className:"mt-0",children:(0,r.jsx)(E,{activities:t.activities})})]})]})}let G=(0,V.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}});function L(){let e=(0,a.useParams)(),t=((0,a.useRouter)(),e.id),{role:s}=(0,i.j)(),[d,c]=(0,n.useState)(null),u="founder"===s?"founder-1":"investor-1",m="founder"===s?"John Founder":"Jane Investor",{data:x,isLoading:h,error:f,refetch:p}=(0,l.W)("/api/deal-rooms/".concat(t),["deal-room",t],void 0,{enabled:!!t,refetchInterval:3e4,onError:e=>{c(e)}});(0,n.useEffect)(()=>{c(null)},[t]);let v=(0,l.u)("put","/api/deal-rooms/".concat(t),{invalidateQueries:[["deal-room",t]],onError:e=>{c(e)}}),g=(0,l.u)("put","/api/deal-rooms/".concat(t),{invalidateQueries:[["deal-room",t],["deal-rooms"]],onError:e=>{c(e)},onSuccess:()=>{}}),j=d||f;if(h)return(0,r.jsxs)("div",{className:"flex justify-center items-center min-h-screen",children:[(0,r.jsx)(N.Z,{className:"animate-spin h-8 w-8 text-blue-500"}),(0,r.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading deal room..."})]});if(j||!x)return(0,r.jsx)("div",{className:"flex justify-center items-center min-h-screen text-center",children:(0,r.jsxs)("div",{className:"max-w-md w-full px-4",children:[(0,r.jsx)(z.Z,{className:"h-12 w-12 text-red-500 mx-auto mb-3"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Error loading deal room"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:(null==j?void 0:j.message)||"There was a problem fetching the deal room details. Please try again."}),(0,r.jsx)(o.z,{onClick:()=>p(),children:"Try Again"})]})});let y=v.isPending||g.isPending;return(0,r.jsxs)(r.Fragment,{children:[y&&(0,r.jsxs)("div",{className:"fixed top-4 right-4 bg-blue-50 text-blue-700 px-4 py-2 rounded-md flex items-center shadow-md z-50",children:[(0,r.jsx)(N.Z,{className:"animate-spin h-4 w-4 mr-2"}),(0,r.jsx)("span",{children:"Updating..."})]}),(0,r.jsx)(Y,{dealRoom:x,currentUserId:u,currentUserRole:s,onUpdateStatus:e=>{try{v.mutate({action:"updateStatus",status:e,userId:u,userName:m,userRole:s})}catch(e){c(e instanceof Error?e:Error("Failed to update status"))}},onArchive:()=>{if(x)try{g.mutate({action:"toggleArchive",userId:u,userName:m,isArchived:!1})}catch(e){c(e instanceof Error?e:Error("Failed to toggle archive status"))}}})]})}n.forwardRef((e,t)=>{let{className:s,variant:n,...a}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,B.cn)(G({variant:n}),s),...a})}).displayName="Alert",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("h5",{ref:t,className:(0,B.cn)("mb-1 font-medium leading-none tracking-tight",s),...n})}).displayName="AlertTitle",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,B.cn)("text-sm [&_p]:leading-relaxed",s),...n})}).displayName="AlertDescription"},40279:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var r=s(57437),n=s(2265),a=s(94508);let i=n.forwardRef((e,t)=>{let{className:s,type:n,...i}=e;return(0,r.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},75060:function(e,t,s){"use strict";s.d(t,{_:function(){return c}});var r=s(57437),n=s(2265),a=s(6394),i=s(90535),l=s(94508);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.f,{ref:t,className:(0,l.cn)(d(),s),...n})});c.displayName=a.f.displayName},86700:function(e,t,s){"use strict";s.d(t,{E:function(){return d},m:function(){return c}});var r=s(57437),n=s(2265),a=s(42325),i=s(40519),l=s(94508);let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.fC,{className:(0,l.cn)("grid gap-2",s),...n,ref:t})});d.displayName=a.fC.displayName;let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.ck,{ref:t,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...n,children:(0,r.jsx)(a.z$,{className:"flex items-center justify-center",children:(0,r.jsx)(i.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});c.displayName=a.ck.displayName},15291:function(e,t,s){"use strict";s.d(t,{Bw:function(){return f},Ph:function(){return o},Ql:function(){return p},i4:function(){return m},ki:function(){return u}});var r=s(57437),n=s(2265),a=s(35581),i=s(40875),l=s(22135),d=s(30401),c=s(94508);let o=a.fC;a.ZA;let u=a.B4,m=n.forwardRef((e,t)=>{let{className:s,children:n,...l}=e;return(0,r.jsxs)(a.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[n,(0,r.jsx)(a.JO,{asChild:!0,children:(0,r.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=a.xz.displayName;let x=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})});x.displayName=a.u_.displayName;let h=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});h.displayName=a.$G.displayName;let f=n.forwardRef((e,t)=>{let{className:s,children:n,position:i="popper",...l}=e;return(0,r.jsx)(a.h_,{children:(0,r.jsxs)(a.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:[(0,r.jsx)(x,{}),(0,r.jsx)(a.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,r.jsx)(h,{})]})})});f.displayName=a.VY.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...n})}).displayName=a.__.displayName;let p=n.forwardRef((e,t)=>{let{className:s,children:n,...i}=e;return(0,r.jsxs)(a.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(a.wU,{children:(0,r.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(a.eT,{children:n})]})});p.displayName=a.ck.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...n})}).displayName=a.Z0.displayName},17168:function(e,t,s){"use strict";s.d(t,{SP:function(){return c},dr:function(){return d},mQ:function(){return l},nU:function(){return o}});var r=s(57437),n=s(2265),a=s(20271),i=s(94508);let l=a.fC,d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...n})});d.displayName=a.aV.displayName;let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...n})});c.displayName=a.xz.displayName;let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...n})});o.displayName=a.VY.displayName},23675:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});var r=s(57437),n=s(2265),a=s(94508);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});i.displayName="Textarea"},21147:function(e,t,s){"use strict";s.d(t,{UserRoleProvider:function(){return i},j:function(){return l}});var r=s(57437),n=s(2265);let a=(0,n.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,n.useState)("founder"),[l,d]=(0,n.useState)(!1);return(0,r.jsx)(a.Provider,{value:{role:s,setRole:i,isAuthenticated:l,setIsAuthenticated:d},children:t})}function l(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useUserRole must be used within a UserRoleProvider");return e}},62285:function(e,t,s){"use strict";s.d(t,{u:function(){return d},W:function(){return l}});var r=s(11713),n=s(29827),a=s(21770);let i=s(83464).Z.create({baseURL:"/api",headers:{"Content-Type":"application/json"},withCredentials:!0});function l(e,t,s,n){return(0,r.a)({queryKey:t,queryFn:async()=>(await i.get(e,s)).data,enabled:null==n?void 0:n.enabled,refetchInterval:null==n?void 0:n.refetchInterval,onSuccess:null==n?void 0:n.onSuccess,onError:null==n?void 0:n.onError})}function d(e,t,s){let r=(0,n.NL)();return(0,a.D)({mutationFn:async s=>(await i[e](t,s)).data,onSuccess:e=>{(null==s?void 0:s.invalidateQueries)&&s.invalidateQueries.forEach(e=>{r.invalidateQueries({queryKey:e})}),(null==s?void 0:s.onSuccess)&&s.onSuccess(e)},onError:null==s?void 0:s.onError})}i.interceptors.request.use(e=>e,e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(window.location.href="/auth"),Promise.reject(e)))}},function(e){e.O(0,[5569,7648,3513,6959,7954,6434,6890,9125,7745,5783,2971,2117,1744],function(){return e(e.s=18561)}),_N_E=e.O()}]);